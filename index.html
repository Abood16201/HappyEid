<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <!-- ุชุนุทูู ููุฒุฉ ุงูุชูุจูุฑ ูุงูุชุตุบูุฑ -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>ูุฎูู ุงููุจุงุฆู ุงูููููุฉ</title>
  <!-- ุงุณุชุฎุฏุงู ุฎุท IBM Plex Sans Arabic ูุฌููุน ุงูุนูุงุตุฑ -->
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@400;700&display=swap" rel="stylesheet">
  <!-- ุชุถููู Font Awesome ููุญุตูู ุนูู ุฃููููุงุช ููุงูุน ุงูุชูุงุตู -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* ุฅุนุฏุงุฏุงุช ุนุงูุฉ ูุชุตููู ูุชุฌุงูุจ */
    * {
      box-sizing: border-box;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
      margin: 0;
      padding: 0;
    }
    html, body {
      background-color: #121212;
      color: #e0e0e0;
      direction: rtl;
      line-height: 1.6;
      width: 100%;
      overflow-x: hidden;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    .main-content {
      flex: 1;
    }
    /* ุชุตููู ุงูุญุงููุงุช ุงููุดุชุฑูุฉ */
    header, .container, .social, footer, .disclaimer, .disclaimer-toggle {
      width: 90%;
      max-width: 1200px;
      margin: 20px auto;
      background-color: #1f1f1f;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.4);
      text-align: center;
    }
    header h1 {
      font-size: 2.2em;
      color: #ffffff;
      animation: slideDown 1s ease;
    }
    @keyframes slideDown {
      from { transform: translateY(-30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .welcome {
      font-size: 1.5em;
      margin-bottom: 20px;
      animation: pulse 2s infinite ease-in-out;
    }
    @keyframes pulse {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.05); opacity: 0.8; }
      100% { transform: scale(1); opacity: 1; }
    }
    form, input, select, button {
      width: 100%;
      margin-bottom: 20px;
    }
    input, select, textarea {
      padding: 12px;
      border: 1px solid #444;
      border-radius: 5px;
      background-color: #1f1f1f;
      color: #e0e0e0;
    }
    button {
      padding: 12px;
      border: none;
      border-radius: 5px;
      background-color: #333333;
      color: #e0e0e0;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #444444;
    }
    .result, .tribe-code {
      margin-top: 10px;
    }
    footer a {
      color: #e0e0e0;
      text-decoration: underline;
      margin: 0 5px;
    }
    footer a:hover {
      color: #bbbbbb;
    }
    #visitorCounter {
      margin-top: 10px;
      display: inline-block;
      font-size: 0.9em;
    }
    #visitorCounter i {
      margin-left: 5px;
    }
  </style>
</head>
<body>
  <div class="main-content">
    <header>
      <h1>ูุฎูู ุงููุจุงุฆู ุงูููููุฉ</h1>
    </header>
    
    <div class="welcome">ูุฑุญุจุง ูููููููููู ูุงูุงููุฑ ๐ฅ</div>
    
    <div class="container">
      <!-- ูููุฐุฌ ุงูุชุฎููู -->
      <form id="tribeForm">
        <label for="fullName">ุงูุชุจ ุงุณูู ุงูุซูุงุฆู (ุฏูู ุงุณู ุงูุนุงุฆูุฉ):</label>
        <input type="text" id="fullName" name="fullName" placeholder="ูุซูุงู: ุฃุญูุฏ ุนูู" required>
        
        <label for="governorate">ุงุฎุชุฑ ุงููุญุงูุธุฉ:</label>
        <select id="governorate" name="governorate" required>
          <option value="" disabled selected>ุงุฎุชุฑ ุงููุญุงูุธุฉ</option>
          <option value="ูุญุงูุธุฉ ุดุจูุฉ">ูุญุงูุธุฉ ุดุจูุฉ</option>
          <option value="ูุญุงูุธุฉ ุญุถุฑููุช">ูุญุงูุธุฉ ุญุถุฑููุช</option>
          <option value="ูุญุงูุธุฉ ูุฃุฑุจ">ูุญุงูุธุฉ ูุฃุฑุจ</option>
        </select>
        <div>ูุฑูุจุงู ููุงูุฉ ุงููุญุงูุธุงุช</div>
        <button type="submit" id="guessBtn">ุชุฎููู ุงููุจููุฉ</button>
      </form>
      
      <div class="result" id="result"></div>
      <div class="tribe-code" id="tribeCode"></div>
      <button id="resetBtn" style="display: none;">ุชุฎููู ุฌุฏูุฏ</button>
    </div>
    
    <div class="social">
      <p>ุชุงุจุนูุง ุนูู:</p>
      <a href="#" target="_blank" title="ุชูู ุชูู"><i class="fab fa-tiktok"></i></a>
      <a href="#" target="_blank" title="ุณูุงุจ"><i class="fab fa-snapchat-ghost"></i></a>
      <a href="#" target="_blank" title="ุชููุฌุฑุงู"><i class="fab fa-telegram"></i></a>
    </div>
    
    <div class="disclaimer-toggle" id="disclaimerToggle">ุฅุฎูุงุก ูุณุคูููุฉ</div>
    <div class="disclaimer" id="disclaimerContent" style="display: none;">
      <h2>ุฅุฎูุงุก ูุณุคูููุฉ</h2>
      <p>
        ููุฏู ูุฐุง ุงููููุน ุฅูู ุชูุฏูู ุชุฌุฑุจุฉ ุชุฑููููุฉ ุฎูููุฉ ุชููู ุนูู ุงูุชุฎููู ุงูุนุดูุงุฆู ูุฃุณูุงุก ุงููุจุงุฆู ุงูููููุฉ ุจูุงุกู ุนูู ุงูุงุณู ุงูุซูุงุฆู ูุงููุญุงูุธุฉ ุงููุฎุชุงุฑุฉุ ููุง ูุนุชูุฏ ุนูู ุฃู ุจูุงูุงุช ุญููููุฉ ุฃู ุฃุณุณ ุนูููุฉ ุฃู ุงุฌุชูุงุนูุฉ ุฏูููุฉ ูู ุชุญุฏูุฏ ุงูุงูุชูุงุก ุงููุจูู.
      </p>
      <p>
        ูุญู ูู ุฅุฏุงุฑุฉ ุงููููุน ูุคูุฏ ุฃู ุงุณุชุฎุฏุงู ูุฐู ุงูุฎุฏูุฉ ูุง ููุซู ุจุฃู ุดูู ูู ุงูุฃุดูุงู ุฅุซุจุงุชูุง ูุนูููุง ุฃู ุฑุณูููุง ูููููุฉ ุงููุจููุฉ ูุฃู ุดุฎุตุ ููุฎูู ูุณุคูููุชูุง ุงููุงููุฉ ุชุฌุงู ุฃู ุงุณุชุฎุฏุงู ุฎุงุทุฆ ุฃู ูุณูุก ูููุญุชูู ุฃู ุงููุชุงุฆุฌ ุงูุธุงูุฑุฉ.
      </p>
      <p>
        ููุง ูุฑูุถ ุชูุงููุง ูุจุดูู ูุงุทุน ุงุณุชุบูุงู ุงููููุน ูุฅุซุงุฑุฉ ุงููุนุฑุงุช ุงููุจููุฉ ุฃู ุงูุนูุตุฑูุฉ ุฃู ุฃู ุณููู ูุฎู ุจุฑูุญ ุงูุงุญุชุฑุงู ูุงูุชุนุงูุด ุจูู ุฃุจูุงุก ุงููุฌุชูุน ุงูููููุ ููุคูุฏ ุฃู ูู ูููู ุจุฐูู ูุชุญูู ุงููุณุคูููุฉ ุงููุงููููุฉ ูุงูุฃุฎูุงููุฉ ุงููุงููุฉ ุนู ุชุตุฑูุงุชู.
      </p>
      <p>
        ูุญู ูุคูู ุจุฃู ุงููุจุงุฆู ูููู ุฃุณุงุณู ูู ุงููููุฉ ุงูููููุฉุ ูุฃู ุงุญุชุฑุงู ุงูุฌููุน ูุงุฌุจ ูุง ุฌุฏุงู ูููุ ูุงุณุชุฎุฏุงู ูุฐุง ุงููููุน ูุฌุจ ุฃู ูููู ุฏุงุฆููุง ูู ุฅุทุงุฑ ุงูุชุฑููู ุงููุณุคูู ูุงููุญุจ ููุชููุน ูุงูุงูุชูุงุก ุงููุดุชุฑู.
      </p>
    </div>
  </div>
  
  <footer>
    <p>&copy; 2025 ูููุน ุชุฎููู ุงููุจุงุฆู ุงูููููุฉ</p>
    <a href="contact.html">ุงุชุตู ุจูุง</a> |
    <a href="#" id="shareBtn">ุดุงุฑู ุงููููุน</a> |
    <span id="visitorCounter"><i class="fas fa-eye"></i> <span id="visitorCount">0</span> ุฒูุงุฑ</span>
  </footer>
  
  <!-- Firebase SDK (ุงุณุชุฎุฏุงู ES6 Modules) -->
  <script type="module">
    // ุงุณุชูุฑุงุฏ ุงููุญุฏุงุช ุงููุทููุจุฉ ูู Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import { getDatabase, ref, transaction } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";
    
    // ุฅุนุฏุงุฏุงุช Firebase ุงูุฎุงุตุฉ ุจูุดุฑูุนู (ุงุณุชุจุฏู ูุฐู ุงูููู ุจุงูููู ุงูุฎุงุตุฉ ุจู)
    const firebaseConfig = {
      apiKey: "AIzaSyBeJZ-q4H_g67aulicW5svETSvjY7mcdeU",
      authDomain: "tixt-13e44.firebaseapp.com",
      databaseURL: "https://tixt-13e44-default-rtdb.firebaseio.com",
      projectId: "tixt-13e44",
      storageBucket: "tixt-13e44.firebasestorage.app",
      messagingSenderId: "591901735567",
      appId: "1:591901735567:web:ba0ae20e4c2265813b4efa",
      measurementId: "G-QYSFX3NKE1"
    };
    
    // ุชููุฆุฉ Firebase
    const appFirebase = initializeApp(firebaseConfig);
    const database = getDatabase(appFirebase);
    
    // ุฒูุงุฏุฉ ุนุฏุงุฏ ุงูุฒูุงุฑ ุจุงุณุชุฎุฏุงู ูุนุงููุฉ (transaction)
    const counterRef = ref(database, 'visitorCount');
    transaction(counterRef, (currentValue) => {
      console.log("ุงููููุฉ ุงูุญุงููุฉ:", currentValue);
      return (currentValue || 0) + 1;
    }).then((result) => {
      console.log("ุชู ุชุญุฏูุซ ุงูุนุฏุงุฏ:", result.snapshot.val());
      document.getElementById('visitorCount').textContent = result.snapshot.val();
    }).catch((error) => {
      console.error("Transaction failed:", error);
    });
  </script>
  
  <script>
    // ุชูุนูู ุชุจุฏูู ุฅุธูุงุฑ/ุฅุฎูุงุก ุฅุฎูุงุก ุงููุณุคูููุฉ
    const disclaimerToggle = document.getElementById("disclaimerToggle");
    const disclaimerContent = document.getElementById("disclaimerContent");
    disclaimerToggle.addEventListener("click", function() {
      disclaimerContent.style.display = (disclaimerContent.style.display === "none" || disclaimerContent.style.display === "") ? "block" : "none";
    });
  
    // ููุฏ ูุดุงุฑูุฉ ุงููููุน ุจุงุณุชุฎุฏุงู Web Share API
    const shareBtn = document.getElementById("shareBtn");
    shareBtn.addEventListener("click", function(e) {
      e.preventDefault();
      if (navigator.share) {
        navigator.share({
          title: "ูููุน ุชุฎููู ุงููุจุงุฆู ุงูููููุฉ",
          text: "ุชุนุฑู ุนูู ูููุน ุชุฎููู ุงููุจุงุฆู ุงูููููุฉ",
          url: window.location.href
        })
        .then(() => console.log("ุชูุช ุงููุดุงุฑูุฉ ุจูุฌุงุญ"))
        .catch((error) => console.error("ุฎุทุฃ ุฃุซูุงุก ุงููุดุงุฑูุฉ:", error));
      } else {
        alert("ููุฒุฉ ุงููุดุงุฑูุฉ ุบูุฑ ูุฏุนููุฉ ูู ูุฐุง ุงููุชุตูุญ.");
      }
    });
  
    // ุจูุงูุงุช ุงููุจุงุฆู
    const tribes = {
      "ูุญุงูุธุฉ ุดุจูุฉ": [
        "ููููุด",
        "ุงูุนูุงูู",
        "ุจูู ููุงู",
        "ุจูุญุงุฑุซ",
        "ุงููุตุนุจูู",
        "ูุนูุงู",
        "ุญููุฑ",
        "ุงููุฑุงููุด",
        "ุณุนุฏ ุงูุธุงููุฉ"
      ],
      "ูุญุงูุธุฉ ุญุถุฑููุช": [
        "ููุฏ",
        "ุงูุตูุนุฑ",
        "ุงู ูุซูุฑ",
        "ุณูุจุงู",
        "ููุญ",
        "ุงูุญููู",
        "ุจูุนุจูุฏ",
        "ุงูุฏูู",
        "ุงู ุฌูุงุจุฑ",
        "ุงู ูุฑู",
        "ุงูุนูุงูุฑ"
      ],
      "ูุญุงูุธุฉ ูุฃุฑุจ": [
        "ุนุจูุฏู",
        "ูุฑุงุฏ",
        "ุงูุงุดุฑุงู",
        "ุงูุฌุฏุนุงู",
        "ุฌูู",
        "ุงู ุนููู",
        "ุงู ุทููู",
        "ุงู ููุณู"
      ]
    };
  
    // ุฎุฑูุทุฉ ุฑููุฒ ุงููุจุงุฆู ููุญุงูุธุฉ ุดุจูุฉ (ูุน ุฅุถุงูุฉ ุฑูุฒ "ุณุนุฏ ุงูุธุงููุฉ" = 712)
    const tribeCodes = {
      "ููููุด": "715",
      "ุงูุนูุงูู": "917",
      "ูุนูุงู": "716",
      "ุญููุฑ": "714",
      "ุงููุตุนุจูู": "604",
      "ุงููุฑุงููุด": "711",
      "ุจูุญุงุฑุซ": "501",
      "ุจูู ููุงู": "705",
      "ุจูุนุจูุฏ": "717",
      "ุณุนุฏ ุงูุธุงููุฉ": "712"
    };
  
    const tribeForm = document.getElementById("tribeForm");
    const guessBtn = document.getElementById("guessBtn");
    const resetBtn = document.getElementById("resetBtn");
    const fullNameInput = document.getElementById("fullName");
    const governorateSelect = document.getElementById("governorate");
    const resultDiv = document.getElementById("result");
    const tribeCodeDiv = document.getElementById("tribeCode");
  
    let guessed = false;
  
    tribeForm.addEventListener("submit", function(e) {
      e.preventDefault();
      if (guessed) return;
  
      const fullName = fullNameInput.value.trim();
      const governorate = governorateSelect.value;
  
      if (fullName === "") {
        resultDiv.textContent = "ูุฑุฌู ุฅุฏุฎุงู ุงุณูู ุงูุซูุงุฆู.";
        tribeCodeDiv.textContent = "";
        return;
      }
      if (!tribes[governorate]) {
        resultDiv.textContent = "ุงูุฎุฏูุฉ ูุชููุฑุฉ ุญุงููุงู ููุญุงูุธุฉ ุดุจูุฉุ ุญุถุฑููุชุ ููุฃุฑุจ ููุท.";
        tribeCodeDiv.textContent = "";
        return;
      }
      guessBtn.style.display = "none";
      fullNameInput.disabled = true;
      governorateSelect.disabled = true;
      resultDiv.textContent = "ุฌุงุฑู ุงูุชุฎููู...";
      tribeCodeDiv.textContent = "";
      
      setTimeout(function() {
        const selectedTribes = tribes[governorate];
        const randomIndex = Math.floor(Math.random() * selectedTribes.length);
        const tribe = selectedTribes[randomIndex];
        resultDiv.textContent = "ุงุนุชูุฏ ุจุงูู ุชูุชูู ูุง " + fullName + " ุงูู ูุจููุฉ " + tribe + " ูุณุจุนูู ูุนู ูุงูุฐูุจ ๐ซก๐ฅ.";
  
        if (governorate === "ูุญุงูุธุฉ ุดุจูุฉ") {
          const code = tribeCodes[tribe];
          tribeCodeDiv.textContent = code ? "ุฑูุฒ ูุจููุชู ูู (" + code + ") ๐ฅ" : "";
        }
        guessed = true;
        resetBtn.style.display = "block";
      }, 3000);
    });
  
    resetBtn.addEventListener("click", function() {
      tribeForm.reset();
      resultDiv.textContent = "";
      tribeCodeDiv.textContent = "";
      guessed = false;
      fullNameInput.disabled = false;
      governorateSelect.disabled = false;
      resetBtn.style.display = "none";
      guessBtn.style.display = "block";
    });
  </script>
</body>
</html>